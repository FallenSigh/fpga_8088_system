Microsoft (R) Macro Assembler Version 6.14.8444		    12/24/25 18:22:58
main.asm						     Page 1 - 1


				.model tiny
 0000				.code
				.8086

				; --- 内存/端口定义 ---
 = FC00				ROM_SEGMENT     EQU     0FC00h

				; --- RAM 变量定义 ---
 = 0500				VAR_TICKS       EQU     0500h   ; [Word] 1ms 计数器
 = 0502				VAR_SCAN_IDX    EQU     0502h   ; [Byte] 扫描索引
 = 0510				VAR_DIGITS      EQU     0510h   ; [Bytes] 显存数组 (6字节)
 = 0520				VAR_LED_TIMER   EQU     0520h   ; [Word] LED 计时
 = 0522				VAR_LED_STATE   EQU     0522h   ; [Byte] LED 状态
 = 0530				VAR_SEND_REQ    EQU     0530h   ; [Byte] 串口发送请求标志

				; --- 标志位定义 (VAR_FLAGS) ---
				; Bit 0: 1=暂停, 0=运行
				; Bit 1: 1=倒计时, 0=正计时
				; Bit 2: 1=10倍速, 0=正常速度
 = 0531				VAR_FLAGS       EQU     0531h

				; --- 硬件端口 ---
				; 8259 PIC
 = 0020				PIC_ICW1        EQU     20H
 = 0021				PIC_ICW2        EQU     21H
 = 0021				PIC_ICW4        EQU     21H
 = 0021				PIC_OCW1        EQU     21H

				; 8254 PIT
 = 0040				PIT_CNT0        EQU     40H
 = 0043				PIT_CTRL        EQU     43H

				; 8255 PPI
 = 0060				PPI_PORTA       EQU     60H
 = 0061				PPI_PORTB       EQU     61H
 = 0062				PPI_PORTC       EQU     62H
 = 0063				PPI_CTRL        EQU     63H

				; 16550 UART (COM1)
 = 03F8				COM1_BASE       EQU     3F8H
 = 03F8				COM1_RBR        EQU     3F8H
 = 03F8				COM1_THR        EQU     3F8H
 = 03FD				COM1_LSR        EQU     3FDH
 = 03F8				COM1_DLL        EQU     3F8H
 = 03F9				COM1_DLM        EQU     3F9H
 = 03FB				COM1_LCR        EQU     3FBH

				org     0h

				; --- ROM 表格 ---
 0000 C0 F9 A4 B0 99 92		SegTab  db 0C0h,0F9h,0A4h,0B0h,099h,092h,082h,0F8h,080h,090h
       82 F8 80 90
 000A 01 02 04 08 10 20		BitTab  db 01h, 02h, 04h, 08h, 10h, 20h

				; ============================================
				; IR0 中断服务程序 (Timer - 1ms)
				; 功能：扫描数码管、计时、LED流水灯
				; ============================================
 0010				IR0_ISR PROC FAR
 0010  50			        PUSH AX
 0011  53			        PUSH BX
 0012  51			        PUSH CX
 0013  52			        PUSH DX
 0014  56			        PUSH SI
 0015  1E			        PUSH DS

 0016  B8 0000			        MOV  AX, 0000h
 0019  8E D8			        MOV  DS, AX

				        ; --- 1. 检查暂停 (Bit 0) ---
 001B  BB 0531			        MOV  BX, VAR_FLAGS
 001E  8A 17			        MOV  DL, [BX]           ; DL 保存 Flags 副本
 0020  F6 C2 01			        TEST DL, 01h
 0023  75 74			        JNZ  SKIP_COUNTING      ; 暂停则跳过

				        ; --- 2. 毫秒计数与速度控制 ---
 0025  BB 0500			        MOV  BX, VAR_TICKS
 0028  8B 07			        MOV  AX, [BX]
 002A  40			        INC  AX
 002B  89 07			        MOV  [BX], AX

				        ; 检查速度 (Bit 2)
 002D  B9 03E8			        MOV  CX, 1000           ; 默认阈值 1000ms = 1s
 0030  F6 C2 04			        TEST DL, 04h            ; Check Bit 2
 0033  74 03			        JZ   CHECK_THRESHOLD
 0035  B9 0064			        MOV  CX, 100            ; 加速模式：100ms 就进位 (10倍速)

 0038				CHECK_THRESHOLD:
 0038  3B C1			        CMP  AX, CX
 003A  72 35			        JB   TASK_LED           ; 没满1秒，去处理LED

				        ; --- 3. 秒脉冲处理 ---
 003C  C7 07 0000		        MOV  WORD PTR [BX], 0   ; 清零毫秒计数
 0040  BB 0530			        MOV  BX, VAR_SEND_REQ
 0043  C6 07 01			        MOV  BYTE PTR [BX], 1   ; 请求串口发送

				        ; --- 4. 计数逻辑 (加法/减法) ---
 0046  BE 0510			        MOV  SI, VAR_DIGITS
 0049  B9 0006			        MOV  CX, 6

 004C  F6 C2 02			        TEST DL, 02h            ; Check Bit 1 (Direction)
 004F  75 10			        JNZ  DO_DECREMENT       ; 1 = 倒计时

				        ; [正计时逻辑]
 0051				INC_LOOP:
 0051  8A 04			        MOV  AL, [SI]
 0053  FE C0			        INC  AL
 0055  3C 0A			        CMP  AL, 10
 0057  72 16			        JB   UPDATE_DIGIT
 0059  C6 04 00			        MOV  BYTE PTR [SI], 0
 005C  46			        INC  SI
 005D  E2 F2			        LOOP INC_LOOP
 005F  EB 10			        JMP  TASK_LED

				        ; [倒计时逻辑]
 0061				DO_DECREMENT:
 0061  8A 04			        MOV  AL, [SI]
 0063  FE C8			        DEC  AL
 0065  79 08			        JNS  UPDATE_DIGIT       ; 如果 >=0 (没有借位)
 0067  C6 04 09			        MOV  BYTE PTR [SI], 9   ; 变成9
 006A  46			        INC  SI                 ; 处理高一位
 006B  E2 F4			        LOOP DO_DECREMENT
 006D  EB 02			        JMP  TASK_LED

 006F				UPDATE_DIGIT:
 006F  88 04			        MOV  [SI], AL

 0071				TASK_LED:
				        ; --- LED 流水灯 ---
 0071  BB 0520			        MOV  BX, VAR_LED_TIMER
 0074  8B 07			        MOV  AX, [BX]
 0076  40			        INC  AX
 0077  89 07			        MOV  [BX], AX
 0079  3D 00C8			        CMP  AX, 200
 007C  72 1C			        JB   TASK_SCAN

 007E  C7 07 0000		        MOV  WORD PTR [BX], 0
 0082  BB 0522			        MOV  BX, VAR_LED_STATE
 0085  8A 07			        MOV  AL, [BX]
 0087  D0 E0			        SHL  AL, 1
 0089  A8 10			        TEST AL, 10h
 008B  74 02			        JZ   WRITE_LED
 008D  B0 01			        MOV  AL, 01h
 008F				WRITE_LED:
 008F  88 07			        MOV  [BX], AL
 0091  F6 D0			        NOT  AL
 0093  BA 0062			        MOV  DX, PPI_PORTC
 0096  EE			        OUT  DX, AL

 0097  EB 01			        JMP  TASK_SCAN

 0099				SKIP_COUNTING:
 0099  90			        NOP

 009A				TASK_SCAN:
				        ; --- 数码管扫描 ---
 009A  BA 0061			        MOV  DX, PPI_PORTB
 009D  B0 00			        MOV  AL, 00h
 009F  EE			        OUT  DX, AL             ; 消隐

 00A0  BB 0502			        MOV  BX, VAR_SCAN_IDX
 00A3  8A 07			        MOV  AL, [BX]
 00A5  32 E4			        XOR  AH, AH
 00A7  8B F0			        MOV  SI, AX

 00A9  FE C0			        INC  AL
 00AB  3C 06			        CMP  AL, 6
 00AD  72 02			        JB   SAVE_IDX
 00AF  B0 00			        MOV  AL, 0
 00B1				SAVE_IDX:
 00B1  88 07			        MOV  [BX], AL

 00B3  BB 000A R		        MOV  BX, OFFSET BitTab
 00B6  2E: 8A 08		        MOV  CL, CS:[BX + SI]   ; 位码
 00B9  BB 0510			        MOV  BX, VAR_DIGITS
 00BC  8A 00			        MOV  AL, [BX + SI]
 00BE  32 E4			        XOR  AH, AH
 00C0  8B F0			        MOV  SI, AX
 00C2  BB 0000 R		        MOV  BX, OFFSET SegTab
 00C5  2E: 8A 00		        MOV  AL, CS:[BX + SI]   ; 段码

 00C8  BA 0060			        MOV  DX, PPI_PORTA
 00CB  EE			        OUT  DX, AL
 00CC  BA 0061			        MOV  DX, PPI_PORTB
 00CF  8A C1			        MOV  AL, CL
 00D1  EE			        OUT  DX, AL

 00D2  B0 20			        MOV  AL, 20H
 00D4  E6 20			        OUT  20H, AL            ; EOI

 00D6  1F			        POP  DS
 00D7  5E			        POP  SI
 00D8  5A			        POP  DX
 00D9  59			        POP  CX
 00DA  5B			        POP  BX
 00DB  58			        POP  AX
 00DC  CF			        IRET
 00DD				IR0_ISR ENDP

				; ============================================
				; IR1 中断服务程序 (Keys - 共用中断)
				; 功能：读取 Port C，判断是哪个键按下了
				; ============================================
 00DD				IR1_ISR PROC FAR
 00DD  50			        PUSH AX
 00DE  53			        PUSH BX
 00DF  51			        PUSH CX
 00E0  52			        PUSH DX
 00E1  57			        PUSH DI
 00E2  1E			        PUSH DS

 00E3  B8 0000			        MOV AX, 0000h
 00E6  8E D8			        MOV DS, AX

				        ; 读取按键状态 (Port C)
 00E8  BA 0062			        MOV DX, PPI_PORTC
 00EB  EC			        IN  AL, DX
				        ; 假设低电平有效，取反方便判断 (按下变为1)
 00EC  F6 D0			        NOT AL

				        ; AL 现在位定义:
				        ; Bit 7=Key3(Reset), Bit 6=Key2(Speed), Bit 5=Key1(Dir), Bit 4=Key0(Pause)

				        ; --- 检查 Key3: 复位 ---
 00EE  A8 80			        TEST AL, 80h
 00F0  74 05			        JZ   CHK_KEY2
 00F2  E8 0034			        CALL FUNC_RESET_VARS    ; 调用复位函数
 00F5  EB 22			        JMP  IR1_EXIT           ; 复位优先级最高，直接退出

 00F7				CHK_KEY2:
				        ; --- 检查 Key2: 速度切换 ---
 00F7  A8 40			        TEST AL, 40h
 00F9  74 08			        JZ   CHK_KEY1
 00FB  BB 0531			        MOV  BX, VAR_FLAGS
 00FE  80 37 04			        XOR  BYTE PTR [BX], 04h ; 翻转 Bit 2
 0101  EB 16			        JMP  IR1_EXIT

 0103				CHK_KEY1:
				        ; --- 检查 Key1: 方向切换 ---
 0103  A8 20			        TEST AL, 20h
 0105  74 08			        JZ   CHK_KEY0
 0107  BB 0531			        MOV  BX, VAR_FLAGS
 010A  80 37 02			        XOR  BYTE PTR [BX], 02h ; 翻转 Bit 1
 010D  EB 0A			        JMP  IR1_EXIT

 010F				CHK_KEY0:
				        ; --- 检查 Key0: 暂停/开始 ---
 010F  A8 10			        TEST AL, 10h
 0111  74 06			        JZ   IR1_EXIT
 0113  BB 0531			        MOV  BX, VAR_FLAGS
 0116  80 37 01			        XOR  BYTE PTR [BX], 01h ; 翻转 Bit 0

 0119				IR1_EXIT:
				        ; 简单的软件延时，防止极短时间内的抖动再次触发
				        ; 在模拟器中可能不需要，但加上更保险
 0119  B9 0FFF			        MOV  CX, 0FFFh
 011C				DELAY_DB:
 011C  E2 FE			        LOOP DELAY_DB

 011E  B0 20			        MOV  AL, 20H
 0120  E6 20			        OUT  20H, AL            ; EOI

 0122  1F			        POP  DS
 0123  5F			        POP  DI
 0124  5A			        POP  DX
 0125  59			        POP  CX
 0126  5B			        POP  BX
 0127  58			        POP  AX
 0128  CF			        IRET
 0129				IR1_ISR ENDP

				; --------------------------------------------
				; 辅助函数：复位变量
				; --------------------------------------------
 0129				FUNC_RESET_VARS PROC NEAR
 0129  51			        PUSH CX
 012A  57			        PUSH DI
 012B  50			        PUSH AX

 012C  B9 0006			        MOV  CX, 6
 012F  BF 0510			        MOV  DI, VAR_DIGITS
 0132  33 C0			        XOR  AX, AX
 0134				CLR_LOOP_SUB:
 0134  88 05			        MOV  [DI], AL
 0136  47			        INC  DI
 0137  E2 FB			        LOOP CLR_LOOP_SUB

				        ; 也可以选择重置Ticks
 0139  BB 0500			        MOV  BX, VAR_TICKS
 013C  C7 07 0000		        MOV  WORD PTR [BX], 0

 0140  58			        POP  AX
 0141  5F			        POP  DI
 0142  59			        POP  CX
 0143  C3			        RET
 0144				FUNC_RESET_VARS ENDP

				; 串口发送单字节
 0144				UART_SendByte PROC NEAR
 0144  52			        PUSH DX
 0145  50			        PUSH AX
 0146  BA 03F8			        MOV  DX, COM1_THR
 0149  EE			        OUT  DX, AL
 014A				WAIT_TX:
 014A  BA 03FD			        MOV  DX, COM1_LSR
 014D  EC			        IN   AL, DX
 014E  24 20			        AND  AL, 20h
 0150  74 F8			        JZ   WAIT_TX
 0152  58			        POP  AX
 0153  5A			        POP  DX
 0154  C3			        RET
 0155				UART_SendByte ENDP

				; ============================================
				; 主程序
				; ============================================
 0155				start:
 0155  FA			        cli
 0156  B8 0000			        mov     ax, 0000h
 0159  8E D8			        mov     ds, ax
 015B  8E C0			        mov     es, ax
 015D  8E D0			        mov     ss, ax
 015F  BC 4000			        mov     sp, 04000h

				        ; 变量初始化
 0162  BB 0500			        mov     bx, VAR_TICKS
 0165  C7 07 0000		        mov     word ptr [bx], 0
 0169  BB 0531			        mov     bx, VAR_FLAGS
 016C  C6 07 00			        mov     byte ptr [bx], 0    ; 初始: 运行, 正向, 正常速
 016F  BB 0522			        mov     bx, VAR_LED_STATE
 0172  C6 07 01			        mov     byte ptr [bx], 01h

				        ; 调用复位函数清空显存
 0175  E8 FFB1			        call    FUNC_RESET_VARS

				        ; --- 硬件初始化 ---
				        ; PIC
 0178  B0 13			        MOV AL, 13H             ; 边沿触发
 017A  E6 20			        OUT PIC_ICW1, AL
 017C  B0 20			        MOV AL, 20H
 017E  E6 21			        OUT PIC_ICW2, AL
 0180  B0 01			        MOV AL, 01H
 0182  E6 21			        OUT PIC_ICW4, AL
 0184  B0 FC			        MOV AL, 0FCh            ; 解除 IR0, IR1 屏蔽
 0186  E6 21			        OUT PIC_OCW1, AL

				        ; Vectors
 0188  BB 0080			        MOV BX, 80H
 018B  B8 0010 R		        MOV AX, OFFSET IR0_ISR
 018E  89 07			        MOV WORD PTR [BX], AX
 0190  BB 0082			        MOV BX, 82H
 0193  B8 FC00			        MOV AX, ROM_SEGMENT
 0196  89 07			        MOV WORD PTR [BX], AX

 0198  BB 0084			        MOV BX, 84H
 019B  B8 00DD R		        MOV AX, OFFSET IR1_ISR
 019E  89 07			        MOV WORD PTR [BX], AX
 01A0  BB 0086			        MOV BX, 86H
 01A3  B8 FC00			        MOV AX, ROM_SEGMENT
 01A6  89 07			        MOV WORD PTR [BX], AX

				        ; PIT
 01A8  BA 0043			        mov dx, PIT_CTRL
 01AB  B0 36			        mov al, 36h
 01AD  EE			        out dx, al
 01AE  BA 0040			        mov dx, PIT_CNT0
 01B1  B0 E8			        mov al, 0E8h
 01B3  EE			        out dx, al
 01B4  B0 03			        mov al, 03h
 01B6  EE			        out dx, al

				        ; PPI (Port C Upper IN, Lower Out)
				        ; Port C 高4位为输入(Key), 低4位为输出(LED)
 01B7  BA 0063			        mov dx, PPI_CTRL
 01BA  B0 88			        mov al, 88h             ; 1000 1000b (A:Out, B:Out, C_Upper:In, C_Lower:Out)
 01BC  EE			        out dx, al

				        ; UART
 01BD  BA 03FB			        mov dx, COM1_LCR
 01C0  B0 80			        mov al, 80h
 01C2  EE			        out dx, al
 01C3  BA 03F8			        mov dx, COM1_DLL
 01C6  B0 1B			        mov al, 1Bh
 01C8  EE			        out dx, al
 01C9  BA 03F9			        mov dx, COM1_DLM
 01CC  B0 00			        mov al, 00h
 01CE  EE			        out dx, al
 01CF  BA 03FB			        mov dx, COM1_LCR
 01D2  B0 03			        mov al, 03h
 01D4  EE			        out dx, al

 01D5  FB			        sti

				; ============================================
				; 主循环 (仅处理串口和PC指令)
				; ============================================
 01D6				forever:
				        ; --- 串口接收处理 ---
 01D6  BA 03FD			        mov dx, COM1_LSR
 01D9  EC			        in  al, dx
 01DA  A8 01			        test al, 01h
 01DC  74 17			        jz  CHECK_SEND_REQ      ; 如果没收到数据，检查发送请求

 01DE  BA 03F8			        mov dx, COM1_RBR
 01E1  EC			        in  al, dx
				        ; 简单的串口命令
 01E2  3C 72			        cmp al, 'r'
 01E4  75 05			        jne TRY_PAUSE
 01E6  E8 FF40			        call FUNC_RESET_VARS
 01E9  EB 0A			        jmp CHECK_SEND_REQ
 01EB				TRY_PAUSE:
 01EB  3C 70			        cmp al, 'p'
 01ED  75 06			        jne CHECK_SEND_REQ
 01EF  BB 0531			        mov bx, VAR_FLAGS
 01F2  80 37 01			        xor byte ptr [bx], 01h

				        ; --- 串口发送处理 ---
 01F5				CHECK_SEND_REQ:
 01F5  BB 0530			        mov bx, VAR_SEND_REQ
 01F8  8A 07			        mov al, [bx]
 01FA  84 C0			        test al, al
 01FC  74 D8			        jz  forever

 01FE  C6 07 00			        mov byte ptr [bx], 0    ; 清除请求

				        ; 发送换行
 0201  B0 0D			        mov al, 0Dh
 0203  E8 FF3E			        call UART_SendByte
 0206  B0 0A			        mov al, 0Ah
 0208  E8 FF39			        call UART_SendByte

				        ; 发送6位数字
 020B  BE 0005			        mov si, 5
 020E				SEND_LOOP:
 020E  BB 0510			        mov bx, VAR_DIGITS
 0211  8A 00			        mov al, [bx + si]
 0213  04 30			        add al, 30h
 0215  E8 FF2C			        call UART_SendByte
 0218  4E			        dec si
 0219  79 F3			        jns SEND_LOOP

 021B  EB B9			        jmp forever

				; Reset Vector
				        org     03ff0h
 3FF0  EA			        db      0EAh
 3FF1  0155 R			        dw      offset start
 3FF3  FC00			        dw      ROM_SEGMENT
				        org     03fffh
 3FFF  00			        db      0

				        end
Microsoft (R) Macro Assembler Version 6.14.8444		    12/24/25 18:22:58
main.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

DGROUP . . . . . . . . . . . . .	GROUP
_TEXT  . . . . . . . . . . . . .	16 Bit	 4000	  Word	  Public  'CODE'	
_DATA  . . . . . . . . . . . . .	16 Bit	 0000	  Word	  Public  'DATA'	


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

FUNC_RESET_VARS  . . . . . . . .	P Near	 0129	  _TEXT	Length= 001B Public
  CLR_LOOP_SUB . . . . . . . . .	L Near	 0134	  _TEXT	
IR0_ISR  . . . . . . . . . . . .	P Far	 0010	  _TEXT	Length= 00CD Public
  CHECK_THRESHOLD  . . . . . . .	L Near	 0038	  _TEXT	
  INC_LOOP . . . . . . . . . . .	L Near	 0051	  _TEXT	
  DO_DECREMENT . . . . . . . . .	L Near	 0061	  _TEXT	
  UPDATE_DIGIT . . . . . . . . .	L Near	 006F	  _TEXT	
  TASK_LED . . . . . . . . . . .	L Near	 0071	  _TEXT	
  WRITE_LED  . . . . . . . . . .	L Near	 008F	  _TEXT	
  SKIP_COUNTING  . . . . . . . .	L Near	 0099	  _TEXT	
  TASK_SCAN  . . . . . . . . . .	L Near	 009A	  _TEXT	
  SAVE_IDX . . . . . . . . . . .	L Near	 00B1	  _TEXT	
IR1_ISR  . . . . . . . . . . . .	P Far	 00DD	  _TEXT	Length= 004C Public
  CHK_KEY2 . . . . . . . . . . .	L Near	 00F7	  _TEXT	
  CHK_KEY1 . . . . . . . . . . .	L Near	 0103	  _TEXT	
  CHK_KEY0 . . . . . . . . . . .	L Near	 010F	  _TEXT	
  IR1_EXIT . . . . . . . . . . .	L Near	 0119	  _TEXT	
  DELAY_DB . . . . . . . . . . .	L Near	 011C	  _TEXT	
UART_SendByte  . . . . . . . . .	P Near	 0144	  _TEXT	Length= 0011 Public
  WAIT_TX  . . . . . . . . . . .	L Near	 014A	  _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 0000h	 
@DataSize  . . . . . . . . . . .	Number	 0000h	 
@Interface . . . . . . . . . . .	Number	 0000h	 
@Model . . . . . . . . . . . . .	Number	 0001h	 
@code  . . . . . . . . . . . . .	Text   	 DGROUP
@data  . . . . . . . . . . . . .	Text   	 DGROUP
@fardata?  . . . . . . . . . . .	Text   	 FAR_BSS
@fardata . . . . . . . . . . . .	Text   	 FAR_DATA
@stack . . . . . . . . . . . . .	Text   	 DGROUP
BitTab . . . . . . . . . . . . .	Byte	 000A	  _TEXT	
CHECK_SEND_REQ . . . . . . . . .	L Near	 01F5	  _TEXT	
COM1_BASE  . . . . . . . . . . .	Number	 03F8h	 
COM1_DLL . . . . . . . . . . . .	Number	 03F8h	 
COM1_DLM . . . . . . . . . . . .	Number	 03F9h	 
COM1_LCR . . . . . . . . . . . .	Number	 03FBh	 
COM1_LSR . . . . . . . . . . . .	Number	 03FDh	 
COM1_RBR . . . . . . . . . . . .	Number	 03F8h	 
COM1_THR . . . . . . . . . . . .	Number	 03F8h	 
PIC_ICW1 . . . . . . . . . . . .	Number	 0020h	 
PIC_ICW2 . . . . . . . . . . . .	Number	 0021h	 
PIC_ICW4 . . . . . . . . . . . .	Number	 0021h	 
PIC_OCW1 . . . . . . . . . . . .	Number	 0021h	 
PIT_CNT0 . . . . . . . . . . . .	Number	 0040h	 
PIT_CTRL . . . . . . . . . . . .	Number	 0043h	 
PPI_CTRL . . . . . . . . . . . .	Number	 0063h	 
PPI_PORTA  . . . . . . . . . . .	Number	 0060h	 
PPI_PORTB  . . . . . . . . . . .	Number	 0061h	 
PPI_PORTC  . . . . . . . . . . .	Number	 0062h	 
ROM_SEGMENT  . . . . . . . . . .	Number	 FC00h	 
SEND_LOOP  . . . . . . . . . . .	L Near	 020E	  _TEXT	
SegTab . . . . . . . . . . . . .	Byte	 0000	  _TEXT	
TRY_PAUSE  . . . . . . . . . . .	L Near	 01EB	  _TEXT	
VAR_DIGITS . . . . . . . . . . .	Number	 0510h	 
VAR_FLAGS  . . . . . . . . . . .	Number	 0531h	 
VAR_LED_STATE  . . . . . . . . .	Number	 0522h	 
VAR_LED_TIMER  . . . . . . . . .	Number	 0520h	 
VAR_SCAN_IDX . . . . . . . . . .	Number	 0502h	 
VAR_SEND_REQ . . . . . . . . . .	Number	 0530h	 
VAR_TICKS  . . . . . . . . . . .	Number	 0500h	 
forever  . . . . . . . . . . . .	L Near	 01D6	  _TEXT	
start  . . . . . . . . . . . . .	L Near	 0155	  _TEXT	

	   0 Warnings
	   0 Errors
